\documentclass{beamer}

\usepackage{graphicx}
\graphicspath{ {./images/} }

%\usetheme{Madrid}
\usetheme{Warsaw}

\title[Initial models for optimisation]{Initial models for optimisation}

\author{R. Kuipers}

\begin{document}

\begin{frame}
  \titlepage
\end{frame}

\begin{frame}{Initial model for installation}
\footnotesize
\begin{equation}
	\text{maximize} \sum_{p \in P} [ DIS^p (O_p \cdot v_p - \sum_{r \in R} N_{rp} \cdot C_{rp}) ]
\end{equation}

\bigskip
subject to:

\begin{align}
1 =& \sum_{t \in T} s_{it}	= \sum_{t \in T} f_{it}										&	\forall i \in I 						\\
1 \leq& \sum_{t = \dot{t}}^{\hat{t}} [ \sum_{t' = \dot{t}}^t f_{it'} \cdot \sum_{t' = t}^{\hat{t}} s_{jt'} ]	&	\forall (i, j) \in IP					\\
d_i \geq& (f_{it''} + s_{it'} - 1) \cdot \sum_{t = t'}^{t''} \omega_{it} 							& 	\forall i \in I, 	\forall t'' \geq t' + d_i, t', t'' \in T	\\
N_{rp} \geq& \sum_{i\in I} \sum_{t' = \dot{t}}^t \sum_{t'' = t}^{\hat{t}} s_{it'} \cdot f_{it''} \cdot \rho_{ir}	& 	\forall r \in R, \forall p \in P, \forall t \in T_p 	\\
O_p =&  \sum_{ t = \dot{t}}^{\tau_p} \sum_{i \in F} f_{it}									&	\forall p \in P
\end{align}

\end{frame}

\begin{frame}{Installation Model Explanation}
(1) Objective function, sums up profits from energy made, subtracts money used on resources (vessels), and multiplies it all with a discount factor	\\
(2) Forces every task to be done at some point	\\
(3) For every precedence relation $(i, j)$ it ensures there is a $t$ such that $i$ has a finish time before $t$, and $i$ a starting time after $t$	\\
(4) Ensures that between the starting and finish times of each task are enough timesteps with acceptable weather	\\
(5) Counts up the resources needed in a time period summing up over all active tasks (an $s$ before and $f$ after $t$)	\\
(6) Counts the number of turbines which finished installing by the end of a period	
\end{frame}

\begin{frame}{Notation overview}
\scriptsize

\begin{columns}
\begin{column}{.48\textwidth}
Sets:
\begin{itemize}
\item $P$: All time periods (large scale)
\item $T$: All time intervals [$\dot{t}, \dots , \hat{t}$]
\item $T_p \in T$: All time intervals (small scale) in period $p$
\item $R$: All resources
\item $I$: All tasks
\item $F \subset I$: All final tasks that complete a turbine
\item $IP$: All precedency pairs ($i$, $j$)
\end{itemize}

Decision variables:
\begin{itemize}
\item $O_{p}$: Number of online turbines after period $p$
\item $N_{rp}$: Number of resources $r$ used in period $p$
\item $s_{it}$: Binary variable, 1 if task $i$ starts at time $t$
\item $f_{it}$: Binary variable, 1 if task $i$ ends at time $t$
\end{itemize}
\end{column}

\hfill

\begin{column}{.48\textwidth}
Parameters:
\begin{itemize}
\item $DIS$: The discount factor per period
\item $v_p$: The value of energy a single turbine produces in period $p$
\item $C_{rp}$: The cost of chartering resource $r$ in period $p$
\item $d_i$: The duration of task $i$
\item $\omega_{it}$: Binary parameter representing weather, 1 if task $i$ can be completed at time $t$, 0 otherwise
\item $\rho_{ir}$: The amount of resource $r$ used by task $i$
\item $\tau_p$: The final time interval (from $T$) in period $p$
\end{itemize}
\end{column}
\end{columns}

\end{frame}


\begin{frame}{Initial model for maintenance}
\footnotesize
\begin{equation}
	\text{maximize} \sum_{p \in P} [ DIS^p (\sum_{t\in T_p} (O_t \cdot v_t)  - \sum_{r\in R} (N_{rp} \cdot C_{rp})) ]
\end{equation}

\bigskip

\only<+>{
subject to (1):

\begin{align}
1 =& \sum_{t \in T} s_{act}	= \sum_{t \in T} f_{act}									&	\forall a \in A, \forall c \in C^M	\\
1 \geq& \sum_{t \in T} s_{act}													&	\forall a \in A, \forall c \in C^O	\\
\sum_{t \in T} s_{act}	=& \sum_{t \in T} f_{act}										&	\forall a \in A, \forall c \in C^O	
\end{align} }

\stepcounter{equation}
\stepcounter{equation}
\stepcounter{equation}

\only<+>{
subject to (2):

\begin{align}
d_a \geq& (f_{act''} + s_{act'} - 1) \cdot \sum_{t = t'}^{t''} \omega_{it} 						& 	\begin{aligned} \forall a \in A, \forall c \in C, \\
																		\forall t'' \geq t' + d_i, t', t'' \in T 	\end{aligned}\\
N_{rp} \geq& \sum_{a\in A} \sum_{c\in C} \sum_{t' = \dot{t}}^t \sum_{t'' = t}^{\hat{t}} s_{act'} \cdot f_{act''} \cdot \rho_{ar}	& 	\forall r \in R, \forall p \in P, \forall t \in T_p	\\
b_{at} <&  \sum_{t' = t - \lambda_a}^t - f_{act'}										&	\forall a \in A, \forall t \in T 	\\
O_t =&  |A| - \sum_{a \in A} b_{at}												&	\forall t \in T
\end{align} }

\end{frame}

\begin{frame}{Maintenance  Model Explanation}
\footnotesize
(7) Objective function, sums up profits from energy made, subtracts money used on resources (vessels), and multiplies it all with a discount factor	\\
(8) Forces every mandatory maintenance cycle to be done at some point	\\
(9) Ensures each optional maintenance cycle to be started at most once	\\
(10) Ensures that every maintenance cycle for a particular asset that is started is also finished	\\
(11) Ensures that between the starting and finish times of each cycle are enough timesteps with acceptable weather	\\
(12) Counts up the resources needed in a time period summing up over all active tasks (an $s$ before and $f$ after $t$)	\\
(13) If no maintenance tasks have finished in the past $\lambda_a$ timesteps this asset is broken	\\
(14) The number of active (online) turbines is equal to everything that isn't broken
\end{frame}

\begin{frame}{Notation overview}
\tiny

\begin{columns}
\begin{column}{.48\textwidth}
Sets:
\begin{itemize}
\item $P$: All time periods (large scale)
\item $T$: All time intervals (small scale) [$\dot{t}, \dots , \hat{t}$]
\item $T_p \in T$: All time intervals (small scale) in period $p$
\item $R$: All resources
\item $A$: All assets
\item $C = C^M \cup C^O$: All (mandatory and optional) maintenance cycles
\end{itemize}

Decision variables:
\begin{itemize}
\item $O_{t}$: Number of active turbines at timestep $t$
\item $N_{rp}$: Number of resources $r$ used in period $p$
\item $s_{act}$: Binary variable, 1 if maintenance cycle $c$ for asset $a$ starts at time $t$
\item $f_{act}$: Binary variable, 1 if maintenance cycle $c$ for asset $a$ finishes at time $t$
\item $b_{at}$: Binary variable, 1 if asset $a$ is broken at timestep $t$
\end{itemize}
\end{column}

\hfill

\begin{column}{.48\textwidth}
Parameters:
\begin{itemize}
\item $DIS$: The discount factor per time period
\item $v_t$: The value of energy a single turbine produces at timestep $t$
\item $C_{rp}$: The cost of chartering resource $r$ in period $p$
\item $d_a$: The duration of a maintenance cycle for asset $a$
\item $\lambda_a$: The number of timesteps after the last maintenance before asset $a$ fails
\item $\omega_{it}$: Binary parameter representing weather, 1 if task $i$ can be completed at time $t$, 0 otherwise
\item $\rho_{ar}$: The amount of resource $r$ used for maintenance of asset $a$
\end{itemize}
\end{column}
\end{columns}

\end{frame}

\end{document}


